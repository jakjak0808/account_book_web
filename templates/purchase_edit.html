<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>êµ¬ë§¤ê³„íš ìˆ˜ì •</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 2rem; }
    input, textarea { width: 100%; margin-bottom: 1rem; padding: 0.8rem; font-size: 1rem; }
    button { padding: 0.8rem 1.2rem; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .small-button { background: #2196F3; margin-bottom: 1rem; }
  </style>
  <script>
    function addStoreField() {
      const container = document.getElementById('additional-stores');
      const div = document.createElement('div');
      div.innerHTML = `
        <input type="text" name="extra_store_name[]" placeholder="ë§¤ì¥ ì´ë¦„" required>
        <input type="text" name="extra_store_price[]" placeholder="ë§¤ì¥ ê°€ê²©" required>
      `;
      container.appendChild(div);
    }
  </script>
</head>
<body>

<h1>ğŸ›’ êµ¬ë§¤ê³„íš ìˆ˜ì •</h1>

<form action="/update_purchase_plan" method="POST">
  <input type="hidden" name="index" value="{{ index }}">

  <label>í’ˆëª…:</label>
  <input type="text" name="product" value="{{ plan.product }}" required>

  <label>êµ¬ë§¤ ëª©ì :</label>
  <textarea name="purpose" rows="3" required>{{ plan.purpose }}</textarea>

  <label>ì˜¨ë¼ì¸ ê°€ê²©:</label>
  <input type="text" name="online_price" value="{{ plan.online_price }}">

  <!-- âœ… Aë§ˆíŠ¸ ì´ë¦„ + ê°€ê²© ìˆ˜ì • ê°€ëŠ¥ -->
  <label>Aë§ˆíŠ¸ ì´ë¦„:</label>
  <input type="text" name="amart_name" value="{{ plan.amart_name if plan.amart_name else 'Aë§ˆíŠ¸' }}">

  <label>Aë§ˆíŠ¸ ê°€ê²©:</label>
  <input type="text" name="amart_price" value="{{ plan.amart_price }}">

  <!-- âœ… Bë§ˆíŠ¸ ì´ë¦„ + ê°€ê²© ìˆ˜ì • ê°€ëŠ¥ -->
  <label>Bë§ˆíŠ¸ ì´ë¦„:</label>
  <input type="text" name="bmart_name" value="{{ plan.bmart_name if plan.bmart_name else 'Bë§ˆíŠ¸' }}">

  <label>Bë§ˆíŠ¸ ê°€ê²©:</label>
  <input type="text" name="bmart_price" value="{{ plan.bmart_price }}">

  <!-- ê¸°íƒ€ ê°€ê²© -->
  <label>ê¸°íƒ€ ê°€ê²©:</label>
  <input type="text" name="other_price" value="{{ plan.other_price }}">

  <!-- ì¶”ê°€ ë§¤ì¥ ì…ë ¥ë€ -->
  <div id="additional-stores">
    <!-- ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€ -->
  </div>

  <button type="button" class="small-button" onclick="addStoreField()">â• ë‹¤ë¥¸ ë§¤ì¥ ì¶”ê°€</button>

  <button type="submit">ìˆ˜ì • ì™„ë£Œ</button>
</form>

<br>
<a href="/purchase_list">â¬…ï¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>

</body>
</html>